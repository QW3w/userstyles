/* ==UserStyle==
@name           Lichess Dark board
@namespace      https://github.com/ornicar/userstyles
@homepageURL    https://raw.githubusercontent.com/ornicar/userstyles/master/lichess.dark-board.user.css
@version        1.0.0
@license        MIT
@description    On lichess.org, make the board darker when dark background is selected
@author         github.com/ornicar
==/UserStyle== */

@-moz-document domain("lichess.org") {

  /* configure with this value, from 0 (normal) to 1 (fully black) */
  body.dark {
    --dark-factor: 0.5;
  }

  body.dark cg-board {
    background: rgba(0, 0, 0, var(--dark-factor));
    background-blend-mode: darken;
  }

  body.dark.coords-in coord {
    color: #fff !important;
    opacity: calc(1 - var(--dark-factor));
  }

  body.dark cg-board square {
    opacity: calc(1 - var(--dark-factor));
  }

  body.dark cg-board piece {
    filter: brightness(calc(1 - 0.5 * var(--dark-factor)));
  }
}
